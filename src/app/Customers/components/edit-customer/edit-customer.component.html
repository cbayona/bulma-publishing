<!-- Main Section -->
<section class="section">
  <div class="columns">

    <!-- Sidebar Menu -->
    <div class="column is-4-tablet is-3-desktop is-2-widescreen">
      <app-sidebar [customersLink]="true"></app-sidebar>
    </div>

    <!-- Page-Specific Content -->
    <div class="column fadein">

      <!-- Breadcrumb -->
      <nav class="breadcrumb">
        <ul>
          <li>
            <a routerLink="/home/customers">Customers</a>
          </li>
          <li class="is-active">
            <a>Edit customer</a>
          </li>
        </ul>
      </nav>

      <!-- Edit Customer Form -->
      <form #editCustomer="ngForm" (ngSubmit)="onSubmit()">
        <div class="field">

          <!-- Full Name -->
          <div class="field">
            <label class="label" for="name">Full Name</label>
            <div class="control">
              <input type="text" class="input is-large" name="name" id="name" [(ngModel)]="customer.name" placeholder="e.g. Alex Johnson"
                required>
            </div>
          </div>

          <!-- Email -->
          <div class="field">
            <label class="label" for="email">Email</label>
            <div class="control has-icons-left">
              <input type="email" class="input" name="email" id="email" [(ngModel)]="customer.email" placeholder="e.g. alexjohnson@gmail.com"
                required>
              <span class="icon is-small is-left">
                <i class="fa fa-envelope"></i>
              </span>
            </div>
          </div>

          <!-- Address - Line 1-->
          <div class="field">
            <label class="label" for="address">Address</label>
            <div class="control">
              <input type="text" class="input" name="address" id="address" [(ngModel)]="customer.address" placeholder="Number and street name"
                required>
            </div>
          </div>

          <!-- Address - Line 2 -->
          <div class="field">
            <div class="control">
              <input type="text" class="input" name="customer.address2" id="customer.address2" [(ngModel)]="customer.address2" placeholder="Second address line (optional)">
            </div>
          </div>

          <div class="columns is-multiline">
            <!-- City -->
            <div class="column is-12-tablet is-6-tablet is-3-desktop">
              <label class="label" for="city">City</label>
              <div class="control">
                <input type="text" class="input" name="city" id="city" [(ngModel)]="customer.city" placeholder="e.g. San Francisco" required>
              </div>
            </div>

            <!-- State / Province-->
            <div class="column is-12-tablet is-6-tablet is-3-desktop">
              <label class="label" for="state" *ngIf="!provinceSelector">State</label>
              <label class="label" for="state" *ngIf="provinceSelector">Province</label>
              <div class="control">
                <div class="select">
                  <select name="state" id="state" [(ngModel)]="customer.state" *ngIf="!provinceSelector">
                    <option *ngFor="let state of states" [ngValue]="state">{{ state }}</option>
                  </select>
                  <select name="province" id="province" [(ngModel)]="customer.province" *ngIf="provinceSelector">
                    <option *ngFor="let province of provinces" [ngValue]="province">{{ province }}</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Zip Code -->
            <div class="column is-12-tablet is-6-tablet is-3-desktop">
              <label class="label" for="zipcode">Postal Code</label>
              <div class="control">
                <input type="text" class="input" name="zipcode" id="zipcode" [(ngModel)]="customer.zipcode" placeholder="e.g. 67202" required>
              </div>
            </div>

            <!-- Country -->
            <div class="column is-12-tablet is-6-tablet is-3-desktop">
              <label class="label" for="country">Country</label>
              <div class="control">
                <div class="select">
                  <select name="country" id="country" [(ngModel)]="customer.country" (change)="showProvinces()">
                    <option *ngFor="let country of countries" [ngValue]="country">{{ country }}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Profile Image -->
          <div class="field">
            <label for="imageURL" class="label">Profile image</label>
            <div class="control">
              <div class="file has-name">
                <label class="file-label" for="imageURL">
                  <input type="file" class="file-input" id="imageURL" (change)="fileChange($event)">
                  <span class="file-cta">
                    <span class="file-icon">
                      <i class="fa fa-upload"></i>
                    </span>
                    <span class="file-label">Choose a file...</span>
                  </span>
                  <span class="file-name">{{ file?.name }}</span>
                </label>
              </div>
            </div>
          </div>

          <!-- Buttons -->
          <div class="field">
            <div class="buttons">
              <button class="button is-medium is-success">Edit customer</button>
              <button class="button is-medium is-light">Cancel</button>
            </div>
          </div>

        </div>
      </form>

    </div>

  </div>
</section>